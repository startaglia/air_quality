<!DOCTYPE html>
<html lang="en">
<%- include("./partials/header.ejs") %>
<body class="d-flex flex-column justify-content-between vh-100">
    <div class="list-box ">
        <h1>Country list</h1>
        <% if (locals.content && locals.content.length > 0) {%>
            <% const sortedCountries = locals.content.slice().sort((a, b) => a.name.common.localeCompare(b.name.common)); %>
            <div class="d-flex flex-row flex-wrap justify-content-center align-items-center gap-3">
                <% sortedCountries.forEach(country => { %>
                    <div class="card" style="width: 18rem;">
                        <img src="<%= country.flags.png %>" class="card-img-top" alt="flag img" style="height: 150px; object-fit: cover;">
                        <form action="/result" method="GET">
                            <input type="hidden" name="country" value="<%= country.name.common %>">
                            <div class="card-body d-flex flex-column justify-content-center align-items-center myflex-col m-auto">
                                <button type="submit" class="btn btn-primary card-title" style="max-width: 150px;"><%= country.name.common %></button>
                            </div>
                        </form>
                    </div>
                <% }); %>
            </div>
        <% } %>
    </div>
    <footer>
        <%- include("./partials/footer.ejs") %>
    </footer>
</body>
</html>
