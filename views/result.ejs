<!DOCTYPE html>
<html lang="en">
<%- include("./partials/header.ejs") %>
<style>
    h2{
        display: inline;
        color: var(--btn);
        font-weight: bold;
    }
</style>
<body style="color: var(--btn);">
    <% if (locals.country) {%>
            <div class="row mb-5 mt-5" >
                <div class="col d-flex flex-col flex-wrap justify-content-center align-items-center w-100">
                    <div class="text-center" style="width: 100%;">
                        <img src="<%= country.flags.png %>" class="img-fluid" alt="flag_img">
                    </div>
                    <div class="mt-4">
                        <h1 class="text-center"> <strong><%= locals.country.name.common %></strong></h1>
                    </div>
                </div>
            </div>
            <div class="row d-flex text-dark">
                <div class="col">
                        <ul class="list-group-flush">
                            <% if (country.name.common) { %>
                                <li class="list-group-item"><h2>Name: </h2><%= country.name.common%>(<%= country.cca2 %>)</li>
                            <% } %>
                            <% if (country.capital) { %>
                                <li class="list-group-item"><h2>Capital: </h2><%= country.capital %></li>
                            <% } %>
                            <% if (country.region) { %>
                                <li class="list-group-item"><h2>Region: </h2><%= country.region%></li>
                            <% } %>
                            <% if (country.subregion) { %>
                                <li class="list-group-item"><h2>Subregion: </h2><%= country.subregion%></li>
                            <% } %>
                            <% if (country.continents && country.continents.length === 1) { %>
                                <li class="list-group-item"><h2>Continents: </h2><%= country.continents[Object.keys(country.continents)[0]] %></li>
                            <% } else if(country.continents) { %>
                                <li class="list-group-item">
                                    <h2>Continents: </h2>
                                    <ul>
                                        <% for (const key in country.continents) { %>
                                            <li><%= country.continents[key] %></li>
                                        <% } %>
                                    </ul>
                                </li>
                            <% } %>
                            <% if (country.languages && country.languages.length === 1) { %>
                                <li class="list-group-item"><h2>Languages: </h2><%= country.languages[Object.keys(country.languages)[0]] %></li>
                            <% } else if(country.languages) { %>
                                <li class="list-group-item">
                                    <h2>Languages: </h2>
                                    <ul>
                                        <% for (const key in country.languages) { %>
                                            <li><%= country.languages[key] %></li>
                                        <% } %>
                                    </ul>
                                </li>
                            <% } %>
                            <% if (country.independent) { %>
                                <li class="list-group-item"><h2>Independent: </h2>Yes</li>
                            <% } else { %>
                                <li class="list-group-item"><h2>Independent: </h2>No</li>
                            <% } %>

                            <% if (country.unMember) { %>
                                <li class="list-group-item"><h2>UN Member: </h2>Yes</li>
                            <% } else { %>
                                <li class="list-group-item"><h2>UN Member: </h2>No</li>
                            <% } %>

                            <% if (country.currencies) { %>
                                <li class="list-group-item">
                                    <h2>Currencies: </span></h2>
                                    <ul>
                                        <% for (const key in country.currencies) { %>
                                            <li>
                                                <%= country.currencies[key].name %> (<%= country.currencies[key].symbol %>)
                                            </li>
                                        <% } %>
                                    </ul>
                                </li>
                            <% } %>

                            <% if (country.latlng) { %>
                                <li class="list-group-item"><h2>Latitude:</h2> <%= country.latlng[0] %> </br><h2>Longitude: </h2><%= country.latlng[1] %></li>
                            <% } %>

                            <% if (country.capitalInfo) { %>
                                <li class="list-group-item">
                                    <h2>Capital info:</h2>
                                    <ul>
                                        <% for (const key in country.capitalInfo) { %>
                                            <% const value = country.capitalInfo[key]; %>
                                            <li>
                                            <% if (key === "latlng") {%>
                                                <strong><%= key %>(lat, long): </strong> <%= Array.isArray(value) ? value.join(', ') : value %></li>
                                            <% } else { %>
                                                <strong><%= key %>: </strong> <%= Array.isArray(value) ? value.join(', ') : value %>
                                            </li>
                                            <% } %>
                                        <% } %>
                                    </ul>
                                </li>
                            <% } %>

                            <% if (country.landlocked) { %>
                                <li class="list-group-item"><h2>Landlocked: </h2>Yes</li>
                            <% } else { %>
                                <li class="list-group-item"><h2>Landlocked: </h2>No</li>
                            <% } %>

                            <% if (country.borders && country.borders.length > 0) { %>
                                <li class="list-group-item">
                                    <h2>Borders: </h2>
                                    <ul>
                                        <% country.borders.forEach(border => { %>
                                            <li><%= border %></li>
                                        <% }); %>
                                    </ul>
                                </li>
                            <% } %>
                            <% if (country.area) { %>
                                <li class="list-group-item"><h2>Area(km²): </h2> <%= country.area%></li>
                            <% } %>
                            <% if (country.population) { %>
                                <li class="list-group-item"><h2>Population: </h2> <%= country.population%></li>
                            <% } %>
                            <% if (country.maps) { %>
                                <li class="list-group-item">
                                    <h2>Maps: </h2>
                                    <ul>
                                        <% for (const key in country.maps) { %>
                                            <li><%= key %>:<a href="<%= country.maps[key] %>"><%= country.maps[key] %></a>
                                            </li>
                                        <% } %>
                                    </ul>
                                </li>
                            <% } %>
                            <% if (country.timezones && country.timezones.length > 0) { %>
                                <li class="list-group-item">
                                    <h2>Timezones: </h2>
                                    <ul>
                                        <% country.timezones.forEach(timezone => { %>
                                            <li><%= timezone %></li>
                                        <% }); %>
                                    </ul>
                                </li>
                            <% } %>
                            <% if(country.postalCode) {%>
                                <li class="list-group-item">
                                    <h2>Postal code: </h2>
                                    <% for (const key in country.postalCode) {%>
                                        <span>
                                            <strong><%= key %>: </strong><%= country.postalCode[key]%>;
                                        </span>
                                    <% } %>
                                </li>
                            <% } %>
                            <% if (country.startOfWeek) { %>
                                <li class="list-group-item"><h2>Start of Week: </h2><%= country.startOfWeek %></li>
                            <% } %>

                            <% if(country.flags) {%>
                                <li class="list-group-item">
                                    <h2>Flags imgs: </h2>
                                    <% for (const key in country.flags) {%>
                                        <% if(key === "alt") {%>
                                            <span style="display: block;">
                                                <strong><%= key %>: </strong><%= country.flags[key]%>
                                            </span>
                                        <% } else { %>
                                            <span style="display: block;">
                                                <strong><%= key%>: </strong>
                                                <a href="<%= country.flags[key] %>"><%= country.flags[key] %> </a>
                                            </span>
                                        <% } %>
                                    <% } %>
                                <% } %>
                            </li>
                            <% if (country.flag) { %>
                                <li class="list-group-item"><h2>Flag's emoji: <%= country.flag %></h2></li>
                            <% } %>
                            <% if(country.coatOfArms) {%>
                                <li class="list-group-item">
                                    <h2>Coat of arms: </h2>
                                    <% for (const key in country.coatOfArms) {%>
                                        <span style="display: block;">
                                            <strong><%= key%>: </strong>
                                            <a href="<%= country.coatOfArms[key] %>"><%= country.coatOfArms[key] %> </a>
                                        </span>
                                    <% } %>
                                <% } %>
                            </li>
                        </ul>
                </div>
            </div>
        <footer>
            <%- include("./partials/footer.ejs") %>
        </footer>
    <%}; %>
</body>
</html>


<!-- city: Il nome della città. In questo caso, "Roma".
state: Lo stato in cui si trova la città. In questo caso, "Latium".
country: Il paese in cui si trova la città. In questo caso, "Italy".
location: Le coordinate geografiche della città. In questo caso, [12.4509, 41.9089].
current: I dati sulla qualità dell'aria e sul tempo.
pollution: I dati sulla qualità dell'aria.
ts: La data e l'ora in cui sono stati raccolti i dati. In questo caso, "2023-10-16T12:00:00.000Z".
aqius: L'indice di qualità dell'aria degli Stati Uniti (AQIUS), che è una misura della qualità dell'aria in base a un'ampia gamma di inquinanti. In questo caso, 42.
mainus: Il principale inquinante che contribuisce all'AQIUS. In questo caso, "p2", che indica particolato fine.
aqicn: L'indice di qualità dell'aria della Cina (AQICN), che è una misura della qualità dell'aria in base a un'ampia gamma di inquinanti. In questo caso, 15.
maincn: Il principale inquinante che contribuisce all'AQICN. In questo caso, "p2", che indica particolato fine.
weather: I dati sul tempo.
ts: La data e l'ora in cui sono stati raccolti i dati. In questo caso, "2023-10-16T12:00:00.000Z".
tp: La temperatura in gradi Celsius. In questo caso, 20.
pr: La pressione atmosferica in millibar. In questo caso, 1015.
hu: L'umidità relativa in percentuale. In questo caso, 67.
ws: La velocità del vento in metri al secondo. In questo caso, 2,57.
wd: La direzione del vento in gradi. In questo caso, 40.
ic: Il codice del tempo. In questo caso, "04d", che indica cielo sereno. -->

